<div id='content' onload='loaded();' onunload='unloaded();'>
	<script type="text/javascript" charset="utf-8">
		function loaded(){
		};
		function unloaded(){
		};
	</script>

	Database API provides a unified interface to access the database (one of the advantages of our solution),
	so that developers need not worry about what type of database is currently implemented in the browser.
	Each extension has its own database, so different extensions do not limit each other.
	Database API currently exposes the following interface:

	<p>
	<table class='APItable'>
		<tbody>
			<tr class='firstRow'>
				<td>Method</td>
				<td>Description</td>
			</tr>
			<tr>
				<td class='APIcode'>
					<a href='javascript:void(0);'
						onclick='document.getElementById("dbAPIclear").scrollIntoView();'>MP.db.clear()</a></td>
				<td>Deletes all records from the database table.</td>
			</tr>
			<tr>
				<td class='APIcode'>
					<a href='javascript:void(0);'
						onclick='document.getElementById("dbAPIget").scrollIntoView();'>MP.db.get()</a></td>
				<td>Returns a record with specified key.</td>
			</tr>
			<tr>
				<td class='APIcode'>
					<a href='javascript:void(0);'
						onclick='document.getElementById("dbAPIset").scrollIntoView();'>MP.db.set()</a></td>
				<td>Sets the value of the record with specified key to a given value.
					This value can be of any JavaScript type that can be converted to a JSON string.
					If the key is already present in the database before insertion, its value is updated,
					otherwise the key is created and its value is adjusted
					according to the value specified as a parameter to this function.</td>
			</tr>
			<tr>
				<td class='APIcode'>
					<a href='javascript:void(0);'
						onclick='document.getElementById("dbAPIremove").scrollIntoView();'>MP.db.remove()</a></td>
				<td>Removes record with the given key from the database.
					If no such key exists in the database, nothing changes.</td>
			</tr>
			<tr>
				<td class='APIcode'>
					<a href='javascript:void(0);'
						onclick='document.getElementById("dbAPIgetTransaction").scrollIntoView();'>MP.db.getTransaction()</a></td>
				<td>Creates a new transaction to handle multiple queries.</td>
			</tr>
		</tbody>
	</table>
	</p>

	<h2>Methods</h2>
	<h3 id='dbAPIclear'>clear</h3>
	<span class='APIcode'>MP.db.clear(table, callback);</span>
	<div class='APIparams'>
		<p>Deletes all records from the database table.</p>
		<h4>Parameters</h4>
		<div class='APIparam'>
			table (string)
			<p>Name of the table we want to clear.</p>
		</div>
		<div class='APIparam'>
			callback (<span class='optional'>optional</span> function)
			<p>This parameter should be a function in the following form:</p>
			<p><span class='APIcode'>function () { ... }</span></p>
		</div>
	</div>
	<br/>
	<h3 id='dbAPIget'>get</h3>
	<span class='APIcode'>MP.db.get(table, key, callback);</span>
	<div class='APIparams'>
		<p>Returns a record with specified key.</p>
		<h4>Parameters</h4>
		<div class='APIparam'>
			table (string)
			<p>Name of the table we want to query.</p>
		</div>
		<div class='APIparam'>
			key (string)
			<p>Name of the key we want to search for.</p>
		</div>
		<div class='APIparam'>
			callback (function)
			<p>This parameter should be a function in the following form:</p>
			<p><span class='APIcode'>function (value) { ... }</span></p>
			<p>where value is the value of record we searched for.</p>
		</div>
	</div>
	<br/>
	<h3 id='dbAPIset'>set</h3>
	<span class='APIcode'>MP.db.set(table, key, value, callback);</span>
	<div class='APIparams'>
		<p>Sets the value of the record with specified key to a given value.
		This value can be of any JavaScript type that can be converted to a JSON string.
		If the key is already present in the database before insertion, its value is updated,
		otherwise the key is created and its value is adjusted
		according to the value specified as a parameter to this function.</p>
		<h4>Parameters</h4>
		<div class='APIparam'>
			table (string)
			<p>Name of the table where we want to store the key-value pair.</p>
		</div>
		<div class='APIparam'>
			key (string)
			<p>Name of the key which can be used to find the stored value.</p>
		</div>
		<div class='APIparam'>
			value (any)
			<p>Value of the record being set. This value can be of any JavaScript type
			that can be converted to a JSON string.</p>
		</div>
		<div class='APIparam'>
			callback (<span class='optional'>optional</span> function)
			<p>This parameter should be a function in the following form:</p>
			<p><span class='APIcode'>function () { ... }</span></p>
		</div>
	</div>
	<br/>
	<h3 id='dbAPIremove'>remove</h3>
	<span class='APIcode'>MP.db.remove(table, key, callback);</span>
	<div class='APIparams'>
		<p>Removes record with the given key from the database.
	 	If no such key exists in the database, nothing changes.</p>
		<h4>Parameters</h4>
		<div class='APIparam'>
			table (string)
			<p>Name of the table which we want to remove the key-value pair from.</p>
		</div>
		<div class='APIparam'>
			key (string)
			<p>Name of the key associated with the record we want to remove.</p>
		</div>
		<div class='APIparam'>
			callback (<span class='optional'>optional</span> function)
			<p>This parameter should be a function in the following form:</p>
			<p><span class='APIcode'>function () { ... }</span></p>
		</div>
	</div>
	<br/>
	<h3 id='dbAPIgetTransaction'>getTransaction</h3>
	<span class='APIcode'>MP.db.getTransaction(callback);</span>
	<div class='APIparams'>
		<p>Creates a new transaction to handle multiple queries in the callback.</p>
		<h4>Parameters</h4>
		<div class='APIparam'>
			callback (function)
			<p>This parameter should be a function in the following form:</p>
			<p><span class='APIcode'>function () { ... }</span></p>
		</div>
	</div>
	<br/>
</div>
